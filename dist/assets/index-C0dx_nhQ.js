import{d as T,c as y,n as $,t as x,o as v,_ as D,r as O,w as ct,a as dt,b as A,e as E,u as p,F as ft,f as mt,g as xe,h as be,i as Oe,j as pt,k as ht,l as X,m as Mt,p as qt,v as It,q as G,s as Ft,x as Be,T as Vt,y as Ht}from"./index-CjOw7_h2.js";const Jt=T({__name:"ui",props:{selected:{type:Boolean,default:!1},emodji:{default:""}},emits:["select"],setup(e,{emit:t}){const r=e,s=t;return(n,a)=>(v(),y("div",{class:$(["emodji-item",{"emodji-item--selected":n.selected}]),onClick:a[0]||(a[0]=o=>s("select",r.emodji))},x(r.emodji),3))}}),Re=D(Jt,[["__scopeId","data-v-7653fba8"]]),Wt={__name:"ui",props:{modelValue:{type:String,default:"üë®‚Äçü¶±"}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,s=t,n=["üë©","üë®","üßë","üë®‚Äçü¶±","üë©‚Äçü¶±","üë®‚Äçü¶∞","üë©‚Äçü¶∞","üë®‚Äçü¶≥","üë©‚Äçü¶≥","üë®‚Äçü¶≤","üë©‚Äçü¶≤","üíÄ"],a=O(r.modelValue),o=O(!1),i=O(null);ct(()=>r.modelValue,m=>{a.value=m});const u=()=>{o.value=!o.value,o.value?document.addEventListener("click",c):document.removeEventListener("click",c)},c=m=>{i.value&&!i.value.contains(m.target)&&(o.value=!1,document.removeEventListener("click",c))},d=m=>{o.value=!1,a.value!==m&&(a.value=m,s("update:modelValue",m))};return dt(()=>{document.removeEventListener("click",c)}),(m,l)=>(v(),y("div",{class:"select-emodji",ref_key:"containerRef",ref:i},[A(p(Re),{class:"select-emodji__selected",emodji:a.value,selected:!0,onSelect:l[0]||(l[0]=_=>u())},null,8,["emodji"]),E("div",{class:$(["select-emodji__list",{"is-open":o.value}])},[(v(),y(ft,null,mt(n,(_,re)=>A(p(Re),{key:re,selected:a.value===_,emodji:_,onSelect:P=>d(_)},null,8,["selected","emodji","onSelect"])),64))],2)],512))}},zt=D(Wt,[["__scopeId","data-v-e444f525"]]),Xt={class:"text-counter"},Gt=T({__name:"ui",props:{count:{default:0},max:{default:20}},setup(e){const t=e;return(r,s)=>(v(),y("div",Xt,x(t.count)+"/"+x(t.max),1))}}),vt=D(Gt,[["__scopeId","data-v-5f7603f7"]]),Qt={class:"enter-name"},Yt=["value","disabled","maxlength"],Kt=T({__name:"ui",props:{modelValue:{},maxLength:{},error:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,s=t,n=O(!1),a=O(null);xe(()=>{r.modelValue||(n.value=!0)}),ct(n,u=>{u&&pt(()=>{var c;return(c=a.value)==null?void 0:c.focus()})});const o=u=>{s("update:modelValue",u)},i=()=>{const u=r.modelValue.trim();u&&(n.value=!n.value,o(u))};return(u,c)=>(v(),y("div",Qt,[E("input",{ref_key:"inputRef",ref:a,type:"text",value:r.modelValue,onInput:c[0]||(c[0]=d=>o(d.target.value)),class:$(["enter-name__field field",{error:r.error}]),disabled:!n.value,maxlength:r.maxLength},null,42,Yt),r.maxLength?(v(),be(p(vt),{key:0,class:"enter-name__counter",count:r.modelValue.length,max:r.maxLength},null,8,["count","max"])):Oe("",!0),E("button",{type:"button",class:"enter-name__btn btn",onClick:i},x(n.value?"‚úîÔ∏è":"‚úèÔ∏è"),1)]))}}),Zt=D(Kt,[["__scopeId","data-v-e19eaf92"]]);function er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ae={exports:{}},_t=function(t,r){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return t.apply(r,n)}},tr=_t,Ce=Object.prototype.toString,Te=function(e){return function(t){var r=Ce.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function U(e){return e=e.toLowerCase(),function(r){return Te(r)===e}}function De(e){return Array.isArray(e)}function Q(e){return typeof e>"u"}function rr(e){return e!==null&&!Q(e)&&e.constructor!==null&&!Q(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var gt=U("ArrayBuffer");function nr(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gt(e.buffer),t}function sr(e){return typeof e=="string"}function ar(e){return typeof e=="number"}function Et(e){return e!==null&&typeof e=="object"}function W(e){if(Te(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var or=U("Date"),ir=U("File"),ur=U("Blob"),lr=U("FileList");function Pe(e){return Ce.call(e)==="[object Function]"}function cr(e){return Et(e)&&Pe(e.pipe)}function dr(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Ce.call(e)===t||Pe(e.toString)&&e.toString()===t)}var fr=U("URLSearchParams");function mr(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function pr(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ne(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),De(e))for(var r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function Se(){var e={};function t(n,a){W(e[a])&&W(n)?e[a]=Se(e[a],n):W(n)?e[a]=Se({},n):De(n)?e[a]=n.slice():e[a]=n}for(var r=0,s=arguments.length;r<s;r++)Ne(arguments[r],t);return e}function hr(e,t,r){return Ne(t,function(n,a){r&&typeof n=="function"?e[a]=tr(n,r):e[a]=n}),e}function vr(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function _r(e,t,r,s){e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function gr(e,t,r){var s,n,a,o={};t=t||{};do{for(s=Object.getOwnPropertyNames(e),n=s.length;n-- >0;)a=s[n],o[a]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function Er(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var s=e.indexOf(t,r);return s!==-1&&s===r}function yr(e){if(!e)return null;var t=e.length;if(Q(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var br=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),g={isArray:De,isArrayBuffer:gt,isBuffer:rr,isFormData:dr,isArrayBufferView:nr,isString:sr,isNumber:ar,isObject:Et,isPlainObject:W,isUndefined:Q,isDate:or,isFile:ir,isBlob:ur,isFunction:Pe,isStream:cr,isURLSearchParams:fr,isStandardBrowserEnv:pr,forEach:Ne,merge:Se,extend:hr,trim:mr,stripBOM:vr,inherits:_r,toFlatObject:gr,kindOf:Te,kindOfTest:U,endsWith:Er,toArray:yr,isTypedArray:br,isFileList:lr},k=g;function Me(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var yt=function(t,r,s){if(!r)return t;var n;if(s)n=s(r);else if(k.isURLSearchParams(r))n=r.toString();else{var a=[];k.forEach(r,function(u,c){u===null||typeof u>"u"||(k.isArray(u)?c=c+"[]":u=[u],k.forEach(u,function(m){k.isDate(m)?m=m.toISOString():k.isObject(m)&&(m=JSON.stringify(m)),a.push(Me(c)+"="+Me(m))}))}),n=a.join("&")}if(n){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t},Rr=g;function K(){this.handlers=[]}K.prototype.use=function(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};K.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};K.prototype.forEach=function(t){Rr.forEach(this.handlers,function(s){s!==null&&t(s)})};var Sr=K,wr=g,xr=function(t,r){wr.forEach(t,function(n,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(t[r]=n,delete t[a])})},bt=g;function M(e,t,r,s,n){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n)}bt.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Rt=M.prototype,St={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){St[e]={value:e}});Object.defineProperties(M,St);Object.defineProperty(Rt,"isAxiosError",{value:!0});M.from=function(e,t,r,s,n,a){var o=Object.create(Rt);return bt.toFlatObject(e,o,function(u){return u!==Error.prototype}),M.call(o,e.message,t,r,s,n),o.name=e.name,a&&Object.assign(o,a),o};var I=M,wt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w=g;function Or(e,t){t=t||new FormData;var r=[];function s(a){return a===null?"":w.isDate(a)?a.toISOString():w.isArrayBuffer(a)||w.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function n(a,o){if(w.isPlainObject(a)||w.isArray(a)){if(r.indexOf(a)!==-1)throw Error("Circular reference detected in "+o);r.push(a),w.forEach(a,function(u,c){if(!w.isUndefined(u)){var d=o?o+"."+c:c,m;if(u&&!o&&typeof u=="object"){if(w.endsWith(c,"{}"))u=JSON.stringify(u);else if(w.endsWith(c,"[]")&&(m=w.toArray(u))){m.forEach(function(l){!w.isUndefined(l)&&t.append(d,s(l))});return}}n(u,d)}}),r.pop()}else t.append(o,s(a))}return n(e),t}var xt=Or,oe,qe;function Ar(){if(qe)return oe;qe=1;var e=I;return oe=function(r,s,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?r(n):s(new e("Request failed with status code "+n.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))},oe}var ie,Ie;function Cr(){if(Ie)return ie;Ie=1;var e=g;return ie=e.isStandardBrowserEnv()?function(){return{write:function(s,n,a,o,i,u){var c=[];c.push(s+"="+encodeURIComponent(n)),e.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),e.isString(o)&&c.push("path="+o),e.isString(i)&&c.push("domain="+i),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(s){var n=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ie}var Tr=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Dr=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},Pr=Tr,Nr=Dr,Ot=function(t,r){return t&&!Pr(r)?Nr(t,r):r},ue,Fe;function $r(){if(Fe)return ue;Fe=1;var e=g,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ue=function(s){var n={},a,o,i;return s&&e.forEach(s.split(`
`),function(c){if(i=c.indexOf(":"),a=e.trim(c.substr(0,i)).toLowerCase(),o=e.trim(c.substr(i+1)),a){if(n[a]&&t.indexOf(a)>=0)return;a==="set-cookie"?n[a]=(n[a]?n[a]:[]).concat([o]):n[a]=n[a]?n[a]+", "+o:o}}),n},ue}var le,Ve;function Ur(){if(Ve)return le;Ve=1;var e=g;return le=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),n;function a(o){var i=o;return r&&(s.setAttribute("href",i),i=s.href),s.setAttribute("href",i),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return n=a(window.location.href),function(i){var u=e.isString(i)?a(i):i;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}(),le}var ce,He;function Z(){if(He)return ce;He=1;var e=I,t=g;function r(s){e.call(this,s??"canceled",e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),ce=r,ce}var de,Je;function Lr(){return Je||(Je=1,de=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),de}var fe,We;function ze(){if(We)return fe;We=1;var e=g,t=Ar(),r=Cr(),s=yt,n=Ot,a=$r(),o=Ur(),i=wt,u=I,c=Z(),d=Lr();return fe=function(l){return new Promise(function(re,P){var F=l.data,V=l.headers,H=l.responseType,L;function Le(){l.cancelToken&&l.cancelToken.unsubscribe(L),l.signal&&l.signal.removeEventListener("abort",L)}e.isFormData(F)&&e.isStandardBrowserEnv()&&delete V["Content-Type"];var f=new XMLHttpRequest;if(l.auth){var jt=l.auth.username||"",kt=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";V.Authorization="Basic "+btoa(jt+":"+kt)}var ne=n(l.baseURL,l.url);f.open(l.method.toUpperCase(),s(ne,l.params,l.paramsSerializer),!0),f.timeout=l.timeout;function je(){if(f){var S="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,j=!H||H==="text"||H==="json"?f.responseText:f.response,N={data:j,status:f.status,statusText:f.statusText,headers:S,config:l,request:f};t(function(ae){re(ae),Le()},function(ae){P(ae),Le()},N),f=null}}if("onloadend"in f?f.onloadend=je:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(je)},f.onabort=function(){f&&(P(new u("Request aborted",u.ECONNABORTED,l,f)),f=null)},f.onerror=function(){P(new u("Network Error",u.ERR_NETWORK,l,f,f)),f=null},f.ontimeout=function(){var j=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",N=l.transitional||i;l.timeoutErrorMessage&&(j=l.timeoutErrorMessage),P(new u(j,N.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,l,f)),f=null},e.isStandardBrowserEnv()){var ke=(l.withCredentials||o(ne))&&l.xsrfCookieName?r.read(l.xsrfCookieName):void 0;ke&&(V[l.xsrfHeaderName]=ke)}"setRequestHeader"in f&&e.forEach(V,function(j,N){typeof F>"u"&&N.toLowerCase()==="content-type"?delete V[N]:f.setRequestHeader(N,j)}),e.isUndefined(l.withCredentials)||(f.withCredentials=!!l.withCredentials),H&&H!=="json"&&(f.responseType=l.responseType),typeof l.onDownloadProgress=="function"&&f.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(L=function(S){f&&(P(!S||S&&S.type?new c:S),f.abort(),f=null)},l.cancelToken&&l.cancelToken.subscribe(L),l.signal&&(l.signal.aborted?L():l.signal.addEventListener("abort",L))),F||(F=null);var se=d(ne);if(se&&["http","https","file"].indexOf(se)===-1){P(new u("Unsupported protocol "+se+":",u.ERR_BAD_REQUEST,l));return}f.send(F)})},fe}var me,Xe;function jr(){return Xe||(Xe=1,me=null),me}var h=g,Ge=xr,Qe=I,kr=wt,Br=xt,Mr={"Content-Type":"application/x-www-form-urlencoded"};function Ye(e,t){!h.isUndefined(e)&&h.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function qr(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=ze()),e}function Ir(e,t,r){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}var ee={transitional:kr,adapter:qr(),transformRequest:[function(t,r){if(Ge(r,"Accept"),Ge(r,"Content-Type"),h.isFormData(t)||h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return Ye(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var s=h.isObject(t),n=r&&r["Content-Type"],a;if((a=h.isFileList(t))||s&&n==="multipart/form-data"){var o=this.env&&this.env.FormData;return Br(a?{"files[]":t}:t,o&&new o)}else if(s||n==="application/json")return Ye(r,"application/json"),Ir(t);return t}],transformResponse:[function(t){var r=this.transitional||ee.transitional,s=r&&r.silentJSONParsing,n=r&&r.forcedJSONParsing,a=!s&&this.responseType==="json";if(a||n&&h.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Qe.from(o,Qe.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jr()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};h.forEach(["delete","get","head"],function(t){ee.headers[t]={}});h.forEach(["post","put","patch"],function(t){ee.headers[t]=h.merge(Mr)});var $e=ee,Fr=g,Vr=$e,Hr=function(t,r,s){var n=this||Vr;return Fr.forEach(s,function(o){t=o.call(n,t,r)}),t},pe,Ke;function At(){return Ke||(Ke=1,pe=function(t){return!!(t&&t.__CANCEL__)}),pe}var Ze=g,he=Hr,Jr=At(),Wr=$e,zr=Z();function ve(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zr}var Xr=function(t){ve(t),t.headers=t.headers||{},t.data=he.call(t,t.data,t.headers,t.transformRequest),t.headers=Ze.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ze.forEach(["delete","get","head","post","put","patch","common"],function(n){delete t.headers[n]});var r=t.adapter||Wr.adapter;return r(t).then(function(n){return ve(t),n.data=he.call(t,n.data,n.headers,t.transformResponse),n},function(n){return Jr(n)||(ve(t),n&&n.response&&(n.response.data=he.call(t,n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})},R=g,Ct=function(t,r){r=r||{};var s={};function n(d,m){return R.isPlainObject(d)&&R.isPlainObject(m)?R.merge(d,m):R.isPlainObject(m)?R.merge({},m):R.isArray(m)?m.slice():m}function a(d){if(R.isUndefined(r[d])){if(!R.isUndefined(t[d]))return n(void 0,t[d])}else return n(t[d],r[d])}function o(d){if(!R.isUndefined(r[d]))return n(void 0,r[d])}function i(d){if(R.isUndefined(r[d])){if(!R.isUndefined(t[d]))return n(void 0,t[d])}else return n(void 0,r[d])}function u(d){if(d in r)return n(t[d],r[d]);if(d in t)return n(void 0,t[d])}var c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:u};return R.forEach(Object.keys(t).concat(Object.keys(r)),function(m){var l=c[m]||a,_=l(m);R.isUndefined(_)&&l!==u||(s[m]=_)}),s},_e,et;function Tt(){return et||(et=1,_e={version:"0.27.2"}),_e}var Gr=Tt().version,C=I,Ue={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Ue[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});var tt={};Ue.transitional=function(t,r,s){function n(a,o){return"[Axios v"+Gr+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return function(a,o,i){if(t===!1)throw new C(n(o," has been removed"+(r?" in "+r:"")),C.ERR_DEPRECATED);return r&&!tt[o]&&(tt[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,i):!0}};function Qr(e,t,r){if(typeof e!="object")throw new C("options must be an object",C.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(e),n=s.length;n-- >0;){var a=s[n],o=t[a];if(o){var i=e[a],u=i===void 0||o(i,a,e);if(u!==!0)throw new C("option "+a+" must be "+u,C.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new C("Unknown option "+a,C.ERR_BAD_OPTION)}}var Yr={assertOptions:Qr,validators:Ue},Dt=g,Kr=yt,rt=Sr,nt=Xr,te=Ct,Zr=Ot,Pt=Yr,B=Pt.validators;function q(e){this.defaults=e,this.interceptors={request:new rt,response:new rt}}q.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=te(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var s=r.transitional;s!==void 0&&Pt.assertOptions(s,{silentJSONParsing:B.transitional(B.boolean),forcedJSONParsing:B.transitional(B.boolean),clarifyTimeoutError:B.transitional(B.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(a=a&&_.synchronous,n.unshift(_.fulfilled,_.rejected))});var o=[];this.interceptors.response.forEach(function(_){o.push(_.fulfilled,_.rejected)});var i;if(!a){var u=[nt,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),i=Promise.resolve(r);u.length;)i=i.then(u.shift(),u.shift());return i}for(var c=r;n.length;){var d=n.shift(),m=n.shift();try{c=d(c)}catch(l){m(l);break}}try{i=nt(c)}catch(l){return Promise.reject(l)}for(;o.length;)i=i.then(o.shift(),o.shift());return i};q.prototype.getUri=function(t){t=te(this.defaults,t);var r=Zr(t.baseURL,t.url);return Kr(r,t.params,t.paramsSerializer)};Dt.forEach(["delete","get","head","options"],function(t){q.prototype[t]=function(r,s){return this.request(te(s||{},{method:t,url:r,data:(s||{}).data}))}});Dt.forEach(["post","put","patch"],function(t){function r(s){return function(a,o,i){return this.request(te(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}q.prototype[t]=r(),q.prototype[t+"Form"]=r(!0)});var en=q,ge,st;function tn(){if(st)return ge;st=1;var e=Z();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(o){s=o});var n=this;this.promise.then(function(a){if(n._listeners){var o,i=n._listeners.length;for(o=0;o<i;o++)n._listeners[o](a);n._listeners=null}}),this.promise.then=function(a){var o,i=new Promise(function(u){n.subscribe(u),o=u}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},r(function(o){n.reason||(n.reason=new e(o),s(n.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]},t.prototype.unsubscribe=function(s){if(this._listeners){var n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}},t.source=function(){var s,n=new t(function(o){s=o});return{token:n,cancel:s}},ge=t,ge}var Ee,at;function rn(){return at||(at=1,Ee=function(t){return function(s){return t.apply(null,s)}}),Ee}var ye,ot;function nn(){if(ot)return ye;ot=1;var e=g;return ye=function(r){return e.isObject(r)&&r.isAxiosError===!0},ye}var it=g,sn=_t,z=en,an=Ct,on=$e;function Nt(e){var t=new z(e),r=sn(z.prototype.request,t);return it.extend(r,z.prototype,t),it.extend(r,t),r.create=function(n){return Nt(an(e,n))},r}var b=Nt(on);b.Axios=z;b.CanceledError=Z();b.CancelToken=tn();b.isCancel=At();b.VERSION=Tt().version;b.toFormData=xt;b.AxiosError=I;b.Cancel=b.CanceledError;b.all=function(t){return Promise.all(t)};b.spread=rn();b.isAxiosError=nn();Ae.exports=b;Ae.exports.default=b;var un=Ae.exports,ln=un;const cn=er(ln),Y=cn.create({baseURL:"https://api.jsonbin.io/v3/b/680a7eee8561e97a5006c544",headers:{Accept:"application/json","X-Master-Key":"$2a$10$9QfohfhkDfNZnGPkr4ZdAe1ZHDQf/QhYFPEHd9gdr/85uOxz/GXEW"}});Y.interceptors.response.use(({data:e})=>(console.log("data",e),e.record.messages),e=>(console.log("error",e),Promise.reject(e)));Y.interceptors.request.use(e=>(e.data={messages:e.data},e),e=>Promise.reject(e));class J{static load(){return Y.get("/")}static send(t){return Y.put("/",t)}}const $t=ht("room",{state:()=>({messages:[],state:null}),getters:{getMessages:e=>e.messages,getState:e=>e.state},actions:{setSate(e){this.state=e??null},setMessages(e){this.messages=e},async loadMessages(){this.setSate("loading");try{const e=await J.load();return this.setMessages(e),this.setSate(null),e}catch(e){return this.setSate("error"),e}},async send(e){try{const t=await J.send(e);return this.messages=t,this.setSate(null),t}catch(t){return this.setSate("error"),t}},async sendMessage(e){try{this.setSate("sending");const r=[...await J.load()];r.unshift(e);const s=await this.send(r);return this.setSate(null),s}catch(t){return this.setSate("error"),t}},async removeMessage(e){try{this.setSate("removing");const r=[...await J.load()].filter(n=>n.id!=e),s=await this.send(r);return this.setSate(null),s}catch(t){return this.setSate("error"),t}}}}),Ut=()=>(crypto==null?void 0:crypto.randomUUID())||`${Date.now()}-${Math.random()}-${Math.random()}-${Math.random()}`;let we=localStorage.uid;we||(we=localStorage.uid=Ut());const Lt=ht("user",{state:()=>({user:{id:we,emodji:localStorage.emodji||"üë®‚Äçü¶±",name:localStorage.name||""}}),getters:{getUser:e=>e.user},actions:{setEmodji(e){this.user.emodji=e,localStorage.emodji=e},setName(e){this.user.name=e,localStorage.name=e}}}),ut=255,dn=20,lt=5,fn={class:"chat-form__message"},mn=["maxLength"],pn=T({__name:"ui",setup(e){const t=Lt(),r=$t(),s=O(""),n=O({name:!1,msg:!1}),a=X({get:()=>t.getUser.emodji,set:u=>t.setEmodji(u)}),o=X({get:()=>t.getUser.name,set:u=>t.setName(u)}),i=async()=>{s.value.trim()||(n.value.msg=!0),o.value.trim()||(n.value.name=!0);const u=new Set(Object.values(n.value));if(u.size===1&&!u.has(!0))try{r.sendMessage({id:Ut(),uid:t.getUser.id,emodji:t.getUser.emodji,name:t.getUser.name,msg:s.value,dt:new Date().toUTCString()}),s.value=""}catch(c){console.log("error",c)}};return(u,c)=>(v(),y("form",{class:$(["chat-form",{disabled:p(r).getState==="sending"}]),onSubmit:c[5]||(c[5]=Mt(()=>{},["prevent"]))},[A(p(zt),{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d),class:"chat-form__select-emodji"},null,8,["modelValue"]),A(p(Zt),{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=d=>o.value=d),onInput:c[2]||(c[2]=d=>n.value.name=!1),class:"chat-form__name-input",error:n.value.name,maxLength:p(dn)},null,8,["modelValue","error","maxLength"]),E("div",fn,[qt(E("textarea",{"onUpdate:modelValue":c[3]||(c[3]=d=>s.value=d),name:"message",class:$(["field",{error:n.value.msg}]),onInput:c[4]||(c[4]=d=>n.value.msg=!1),maxLength:p(ut)},null,42,mn),[[It,s.value]]),A(p(vt),{class:"chat-form__message-counter",count:s.value.length,max:p(ut)},null,8,["count","max"])]),E("button",{type:"button",class:"chat-form__send-btn btn",onClick:i}," üöÄ ")],34))}}),hn=D(pn,[["__scopeId","data-v-9da6208b"]]),vn=e=>{const t=new Date(e),r=new Date,s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=(new Date(r.getFullYear(),r.getMonth(),r.getDate())-s)/(1e3*60*60*24),i=t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});return o===0?`–°–µ–≥–æ–¥–Ω—è, ${i}`:o===1?`–í—á–µ—Ä–∞, ${i}`:`${t.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})} ${i}`},_n={class:"message-item"},gn={class:"message-item__message"},En={class:"message-item__date"},yn=T({__name:"ui",props:{id:{},uid:{},emodji:{},name:{},msg:{},dt:{}},emits:["remove"],setup(e,{emit:t}){const r=Lt(),s=e,n=t,a=X(()=>r.getUser.id===s.uid),o=X(()=>!!localStorage.isAdmin);return(i,u)=>(v(),y("div",_n,[A(p(Re),{class:"message-item__emodji",emodji:s.emodji,selected:a.value},null,8,["emodji","selected"]),E("div",{class:$(["message-item__name",{"message-item__name--author":a.value}])},[E("div",null,x(s.name),1)],2),E("div",gn,[G(x(s.msg)+" ",1),E("div",En,x(p(vn)(s.dt)),1)]),a.value||o.value?(v(),y("button",{key:0,onClick:u[0]||(u[0]=c=>n("remove",s.id)),class:"message-item__remove"}," üóëÔ∏è ")):Oe("",!0)]))}}),bn=D(yn,[["__scopeId","data-v-96dba6cf"]]),Rn={},Sn={class:"alert-block"};function wn(e,t){return v(),y("div",Sn,[Ft(e.$slots,"default",{},void 0)])}const xn=D(Rn,[["render",wn],["__scopeId","data-v-2cd121b1"]]),On={class:"messages-state-block"},An={class:"messages-state-block__count"},Cn={class:"messages-state-block__state"},Tn=["disabled"],Dn=T({__name:"ui",props:{count:{default:0},state:{default:""}},emits:["refresh"],setup(e,{emit:t}){const r=O(lt),s=O(null),n=t,a=e,o=()=>{s.value||(s.value=setInterval(()=>{!a.state&&--r.value<=0&&(s.value=clearInterval(s.value))},1e3))},i=async()=>{n("refresh"),await new Promise(u=>setTimeout(u,1e3)),r.value=lt,o()};return xe(async()=>o()),dt(()=>clearInterval(s.value)),(u,c)=>(v(),y("div",On,[E("div",An,[c[1]||(c[1]=G(" count: ")),E("b",null,x(a.count),1)]),E("div",Cn,x(a.state),1),E("button",{type:"button",class:"messages-state-block__btn btn",disabled:!!r.value||!!a.state,onClick:c[0]||(c[0]=d=>i())},x((r.value||"")+" ‚Üª"),9,Tn)]))}}),Pn={class:"messages"},Nn={key:0},$n={key:1},Un=T({__name:"ui",setup(e){const t=$t(),r=O(!1),s=async a=>{if(!r.value)try{r.value=!0,await pt(),await t.removeMessage(a)}catch{}finally{r.value=!1}},n=async()=>{await t.loadMessages()};return xe(async()=>{t.getMessages.length||await t.loadMessages()}),(a,o)=>(v(),y("div",Pn,[A(p(Dn),{class:"messages__info",count:p(t).getMessages.length,state:p(t).getState,onRefresh:o[0]||(o[0]=i=>n())},null,8,["count","state"]),!p(t).getMessages.length&&!p(t).getState||p(t).getState==="error"?(v(),be(p(xn),{key:0,class:"messages__empty-message"},{default:Be(()=>[p(t).getState==="error"?(v(),y("div",Nn,"Something went wrong..")):(v(),y("div",$n,o[2]||(o[2]=[G(" There is empty yet. "),E("br",null,null,-1),G(" You can be first guest! ")])))]),_:1})):Oe("",!0),A(Vt,{name:"fade",tag:"div",class:$(["messages__list",{disabled:p(t).getState==="removing"}])},{default:Be(()=>[(v(!0),y(ft,null,mt(p(t).getMessages,i=>(v(),be(p(bn),Ht({ref_for:!0},i,{key:i.id,onRemove:o[1]||(o[1]=u=>s(u))}),null,16))),128))]),_:1},8,["class"])]))}}),Ln=T({name:"Room",__name:"ui",setup(e){return(t,r)=>(v(),y("div",null,[A(p(hn)),r[0]||(r[0]=E("hr",{class:"divider"},null,-1)),A(p(Un),{class:"messages"})]))}}),kn=D(Ln,[["__scopeId","data-v-d07725e9"]]);export{kn as default};
